{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- 下記を追加 -->
  <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"> -->
  <link rel="stylesheet" 
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="{% static 'style.css' %}">
  <title>Todo</title>
</head>

<body>
    {# 追記 #}
    <div id="app">
        <!-- フォーム -->
        <div class="container">
        
            <div class="mx-auto p-5">
                <section class="todo-form">    
                    <!-- https://getbootstrap.com/docs/4.0/components/forms/ -->
                    <div class="form-group d-block mx-auto mb-2 mx-sm-4">
                        <h1>Create New Todo</h1>
                    </div>
                    <form class="form-inline" @submit.prevent="createTodo">
                        <div class="form-group  d-block mx-auto">   
                            <input type="text" class="form-control" v-model="todo.whatTodo" placeholder="起床">
                            <button type="submit" class="btn btn-primary mt-auto">Add </button>
                        </div>
                    </form>
                </section>
            </div>
            
            <div class="border border-dark "></div>
            
            <div class="row mx-auto" >
                <!-- 未 -->
                <div class="col-6">
                    <h2 class="text-center p-3">UnFinished</h2>
                    <div  v-for="item, index in undoneTodo" class="list-group-item text-center border">
                        <div >
                            <label class="form-check-label">
                                <!-- <span class="list-label">[[ item.todo ]]</span> -->
                                <h3>[[item.todo]]</h3>
                                <span class="button-area">
                                    <button class="list-button btn-success btn-sm" v-on:click="updateFlag(item)">DONE</button>
                                    <button class="list-button btn-danger btn-sm" v-on:click="deleteTodo(item)">DELETE</button>
                                </span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- 済 -->
                <div class="col-6">
                    <h2 class="text-center p-3">Finished</h2>
                    <div  v-for="item, index in doneTodo" class="list-group-item text-center border">
                        <div>
                            <!-- <input class="form-check-input" type="checkbox"/> -->
                            <label class="form-check-label">
                                <!-- <span class="list-label">[[ item.todo ]]</span> -->
                                <h3>[[item.todo]]</h3>
                                <span class="button-area">
                                    <button class="list-button btn-success btn-sm" v-on:click="updateFlag(item)">RETURN</button>
                                    <button class="list-button btn-danger btn-sm" v-on:click="deleteTodo(item)">DELETE</button>
                                </span>
                            </label>
                        </div>
                    </div>
                </div>
                
            </div>
        
        </div>

    </div>
    <!-- <h1>name: {{app}}</h1>
        <form action="" method="POST">
            
            {% csrf_token %}
            <div>
              
              <label>{{ form.todo.label }} {{ form.todo }}</label><br/>
              
              <button type="submit" class="btn btn-primary mt-auto">追加</button>

            </div>
          </form>

        {% for data in alldata %}
            <div>
                <p>{{ data.id }}</p>
                <p> todo {{data.todo}}, {{data.is_finished}}</p>
                <p>====================================</p>
            </div>
        {% endfor %}
     -->
    <script>
        // urls.pyのurlpatternsのnameをurlに指定する
        const URL = '{% url "get" %}';
        const URL_create = '{% url "create" %}';
        const URL_change = '{% url "update" %}';
        const URL_delete = '{% url "delete" %}';
    </script>
    
    <!-- <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14"></script> -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.0/dist/js.cookie.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script src="{% static 'main.js' %}"></script>
</body>